{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/authentifcation.service\";\nclass AppHttpInterceptor {\n  constructor(authService) {\n    this.authService = authService;\n  }\n  intercept(request, next) {\n    console.log(\"*******\");\n    console.log(request.url);\n    if (!request.url.includes(\"/auth/login\")) {\n      let newRequest = request.clone({\n        headers: request.headers.set('Authorization', 'Bearer' + this.authService.accessToken)\n      });\n      return next.handle(newRequest);\n    } else return next.handle(request);\n  }\n  static #_ = this.ɵfac = function AppHttpInterceptor_Factory(t) {\n    return new (t || AppHttpInterceptor)(i0.ɵɵinject(i1.AuthentifcationService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AppHttpInterceptor,\n    factory: AppHttpInterceptor.ɵfac\n  });\n}\nexport { AppHttpInterceptor };","map":{"version":3,"names":["AppHttpInterceptor","constructor","authService","intercept","request","next","console","log","url","includes","newRequest","clone","headers","set","accessToken","handle","_","i0","ɵɵinject","i1","AuthentifcationService","_2","factory","ɵfac"],"sources":["C:\\Users\\ASUS\\angularPfe\\ProjetPfe\\src\\app\\interceptors\\app-http.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AuthentifcationService } from '../services/authentifcation.service';\n\n@Injectable()\nexport class AppHttpInterceptor implements HttpInterceptor {\n\n  constructor(private authService:AuthentifcationService) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    console.log(\"*******\")\n    console.log(request.url);\n    if(!request.url.includes(\"/auth/login\")){\n      let newRequest = request.clone({\n        headers :  request.headers.set('Authorization','Bearer' +this.authService.accessToken)\n      })\n      return next.handle(newRequest);\n    }else return next.handle(request);\n\n    }\n   \n}"],"mappings":";;AAUA,MACaA,kBAAkB;EAE7BC,YAAoBC,WAAkC;IAAlC,KAAAA,WAAW,GAAXA,WAAW;EAA0B;EAEzDC,SAASA,CAACC,OAA6B,EAAEC,IAAiB;IACxDC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBD,OAAO,CAACC,GAAG,CAACH,OAAO,CAACI,GAAG,CAAC;IACxB,IAAG,CAACJ,OAAO,CAACI,GAAG,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAC;MACtC,IAAIC,UAAU,GAAGN,OAAO,CAACO,KAAK,CAAC;QAC7BC,OAAO,EAAIR,OAAO,CAACQ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAC,QAAQ,GAAE,IAAI,CAACX,WAAW,CAACY,WAAW;OACtF,CAAC;MACF,OAAOT,IAAI,CAACU,MAAM,CAACL,UAAU,CAAC;KAC/B,MAAK,OAAOL,IAAI,CAACU,MAAM,CAACX,OAAO,CAAC;EAEjC;EAAC,QAAAY,CAAA,G;qBAdQhB,kBAAkB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,sBAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAlBrB,kBAAkB;IAAAsB,OAAA,EAAlBtB,kBAAkB,CAAAuB;EAAA;;SAAlBvB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}